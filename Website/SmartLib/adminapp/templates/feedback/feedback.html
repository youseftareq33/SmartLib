<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/feedback.css' %}">
    <title>FeedBack Page-SmartLib</title>
    <link rel="icon" type="image/png" href="{% static 'images/logo.png' %}">

</head>
<body>
    <header>
        <div class="left-header-container" id="left-header-container">
            <a class="logo" id="logo" href="{% url 'index' %}">
                <img src='{% static "images/logo.png" %}' width='60' height='60'>
            </a>
        </div>

        <div class="right-header-container" id="right-header-container">
            <a class="notification" id="notification" href='#'>
                <img id="img_notification" src='{% static "images/empty_notification.png" %}' width='24' height='25'>
            </a>
            <div class="notification_dropdown" id="notification_dropdown">
                <h2>Notification</h2>
                <div id="empty_notification">
                    <br>
                    <p>No new notifications.</p>
                </div>
                <div id="notEmpty_notification" class="notEmpty_notification">
                    <div id="notifi-item_1" class="notifi-item">
                        <img id="notifi-item_image_1" src='{% static "images/notfi_feedback.png" %}' alt="img">
                        <div class="text">
                            <h4 id="notifi-item_title_1">Title....</h4>
                            <p id="notifi-item_content_1">Content...</p>
                        </div> 
                    </div>
                    <div id="notifi-item_2" class="notifi-item">
                        <img id="notifi-item_image_2" src='{% static "images/notfi_upload.png" %}' alt="img">
                        <div class="text">
                            <h4 id="notifi-item_title_2">Title....</h4>
                            <p id="notifi-item_content_2">Content...</p>
                        </div> 
                    </div>
                    <div id="notifi-item_3" class="notifi-item">
                        <img id="notifi-item_image_3" src='{% static "images/notfi_upload.png" %}' alt="img">
                        <div class="text">
                            <h4 id="notifi-item_title_3">Title....</h4>
                            <p id="notifi-item_content_3">Content...</p>
                        </div> 
                    </div>
                    <div id="viewAll_notification" class="view-all">
                        <a href="#">View All Notifications</a>
                    </div>
                </div>
            </div>

            <a class="user" id="user" href='#'>
                <img id="img_user" src='{% static "images/user.png" %}' width='27' height='25'>
            </a>
            <ul class="dropdown-user" id="dropdown-user">
                <li onclick="handleOptionClick_user(this, 'Categories Database')">Categories Database</li>
                <li onclick="handleOptionClick_user(this, 'User Details')">User Details</li>
                <li onclick="handleOptionClick_user(this, 'View Feedback')">View Feedback</li>
                <li onclick="handleOptionClick_user(this, 'Notification')">Notification</li>
                <li onclick="handleOptionClick_user(this, 'Book Section')">Book Section</li>
                <li onclick="handleOptionClick_user(this, 'Log out')" class="logout">Log Out</li>
            </ul>
        </div>
    </header>

    <div class="container">
        <nav class="sidebar">
            <button onclick="window.location.href='http://127.0.0.1:8000/adminpanel/categories/'">
                Categories Database
            </button>
            <button onclick="window.location.href='http://127.0.0.1:8000/adminpanel/user-details/'">
                User Details
            </button>
            <button onclick="window.location.href='http://127.0.0.1:8000/adminpanel/feedback/'">
                View Feedback
            </button>
            <button onclick="window.location.href='http://127.0.0.1:8000/adminpanel/notifications/'">
                Notifications
            </button>
            <button onclick="window.location.href='http://127.0.0.1:8000/adminpanel/books/'">
                Book Section
            </button>
        </nav>

        <main>
            <h1>Feedback</h1>
            
            <div id="feedback" class="feedback-container">
                {% for feedback in feedbacks %}
                <div class="feedback-item">
                    <h3>User: {{ feedback.reader.user.user_name }}</h3>
                    <p>Feedback: {{ feedback.feedback_description }}</p>
                    <p>Time: {{ feedback.feedback_time }}</p>
                </div>
                {% endfor %}
            </div>  
            <div id="pagination" class="pagination">
                <button id="prevPage" onclick="fetchBooks(currentPage - 1)" disabled>Previous</button>
                <div id="pageNumbers" class="page-numbers"></div>
                <button id="nextPage" onclick="fetchBooks(currentPage + 1)" disabled>Next</button>
            </div>          
        </main>
        
    </div>
    <style>
       .feedback-item {
    border: 1px solid #ddd;
    padding: 15px;
    margin-bottom: 15px;
    border-radius: 5px;
    background-color: #f9f9f9;
}

.pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 20px;
}

.pagination button {
    margin: 0 5px;
    padding: 8px 16px;
    border: 1px solid #ddd;
    background-color: #fff;
    cursor: pointer;
}

.pagination button.current-page {
    background-color: #007bff;
    color: #fff;
    font-weight: bold;
}

.pagination button:disabled {
    background-color: #e9ecef;
    cursor: not-allowed;

}

    </style>
    
    <script src="{% static 'js/feedback.js' %}"></script>
</body>
</html>
